<html>

    <head>
        <title>all distric list</title>
        <link rel="shortcut icon" type="image/x-icon" href="../images/favicon.ico" />       
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.0/css/jquery.dataTables.css">
        <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.0/js/jquery.dataTables.js"></script>
 

        
    </head>
    
    <body >
        <script>
            var districtsTable;

            $(function () {
                districtsTable = $('#districtsTable').DataTable({
                    "sPaginationType": "full_numbers",
                    "bDestroy": true,
                    'bAutoWidth': false,
                    responsive: true,
                    "columnDefs": [
                        {className: "text-center", "targets": [3]},
                        {className: "action-btn-column", "targets": [5]},
                        {width: "150px", "targets": [0, 1, 2, 3, 4]},
                        {"orderable": false, "targets": [5]},
                        {sortable: false, "targets": [5]}
                    ]
                });

                fillDistrictsTable();
            });

            function fillDistrictsTable() {
                $.ajax({
                    url:"../../backend/actions/districts.php",    //methanata path eka denna ona hariyata
                    type: "post",    
                    dataType: 'json',
                    data: {},
                    success:function(result){
                        // console.log(JSON.parse(result));
                    var rows = [];
                    districtsTable.clear().draw();
                    for (var b in result) {
                       
                        districtsTable.row.add([
                            result[b].id,
                            result[b].name
                        ]).node().id = result[b].Id;
                        districtsTable.draw();
                    }


                        console.log(result);
                    }
                });
                // methana ajax call eka
                // result eka aragena
                // data table ekata gahanawa
            }   
                        
        </script>
        
        <table id="districtsTable">
            <thead>
                <tr>
                    <th>#</th>
                    <th>District</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
     
    </body>
    
</html>